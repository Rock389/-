# -

Lua скрипт для Axiom, генерирующий гибко настраиваемые деревья


На донат: https://www.donationalerts.com/r/rock389


Для создания пресетов нужно менять значение слайдеров по умолчанию. Как это делать? Например,

trunk["min_height"] = \$int(Trunk Min Height, 8, 5, 100)\$

Первое число (8) – это значение по умолчанию

  

**ПАРАМЕТРЫ**

  

Ствол (Trunk):

• min/max_height – интервал возможной длины ствола

• min/max_curve – интервал возможного угла наклона ствола в градусах

• min/max_width – ширина вершины и подножия дерева соответственно (это не радиус, а кол-во блоков)

• min/max_count - интервал возможного кол-ва стволов дерева

• generate_trees – должны ли листья генерироваться вокруг ствола. 1 – да, 0 – нет. Если нет, то листья будут генерироваться только возле веток

Ветки (Branches):

• min/max_count – интервал возможного кол-ва веток

• min/max_length – интервал возможной длины веток

• min/max_curve – интервал возможного угла наклона веток в градусах. При 0 – перпендикулярно стволу. Если <0, то ветки поднимаются наверх, если >0 - вниз

• min/max_width – ширина конца и начала ветки соответственно (это не радиус, а кол-во блоков)

• min_height – высота, с которой могут начать генерироваться ветки

Листья (Leaves):

• density – густота листьев в процентах (если 0, то их не будет)

• min/max_width – интервал возможной толщины листьев (радиус)

• min_height - высота, с которой могут начать генерироваться листья

• algorithm – алгоритм генерации листвы
Алгоритм 1 - просто рандом
Алгоритм 2 - рандом, но больше группами
Алгоритм 3 - рандом, чем ближе к ветке, тем больше шанс

• quality – качество генерации листвы. Чем больше значение, тем выше качество, но медленнее генерация
  

**ВЫБОР БЛОКОВ**

  

К сожалению, нельзя сделать нормальный выбор блоков через кнопки, так что придётся писать их ручками

В первых строках скрипта есть строчки

trunk = {["blocks"]={ … }}

branches = {["blocks"]={ … }}

leaves = {["blocks"]={ … }}

Там, где стоит … , надо писать блоки для ствола, веток и листьев соответственно. Для этого нужно написать blocks.{название блока} через запятую. Например,

trunk = {["blocks"]={blocks.oak_wood, blocks.spruce_wood}}

  

**ВАЖНО!!!**

Для блоков листвы НЕЛЬЗЯ так писать, иначе они будут опадать. Для этого надо писать так:

oak=withBlockProperty(blocks.oak_leaves,"persistent=true")

spruce=withBlockProperty(blocks.spruce_leaves,"persistent=true")

dark_oak=withBlockProperty(blocks.dark_oak_leaves,"persistent=true")

voobshe_luboye_nazvanie_esli_chto_vdrug = withBlockProperty(blocks.azalea_leaves,"persistent=true")

  

trunk = …

branches = …

leaves = {["blocks"]={oak,spruce,dark_oak}}

  

В пресетах можно найти пример, как это делать, если тут непонятно

Аналогично, можно делать разные состояния блоков